/* Tokens as CSS variables for runtime usage */
@import './tokens.css';

@tailwind base;
@tailwind components;
@tailwind utilities;

/* Base */
html, body { height: 100%; }
body { @apply bg-base-cream text-base-text font-body antialiased; overflow-x: hidden; }
html { overflow-anchor: none; }

/* Smooth scrolling for anchors (respect motion preferences) */
@media (prefers-reduced-motion: no-preference) {
  html { scroll-behavior: smooth; }
}

/* Scroll progress */
.progress-bar { position: fixed; top: 0; left: 0; height: 4px; width: 0; background: linear-gradient(90deg,#CCFF33,#B5F220); z-index: 60; box-shadow: var(--shadow-soft); }

/* Skip link */
.skip-link {
  position: absolute;
  left: -9999px;
  top: auto;
  width: 1px;
  height: 1px;
  overflow: hidden;
}
.skip-link:focus {
  left: 12px;
  top: 12px;
  width: auto;
  height: auto;
  z-index: 50;
  @apply px-4 py-2 rounded-pill bg-brand-lime text-brand-ink shadow-soft;
}

/* Containers */
.container { @apply mx-auto max-w-[1160px] px-6; }

/* Header & Nav */
.site-header { @apply sticky top-0 z-50; }
.nav-shell { @apply mt-3 mb-3; }
.nav {
  @apply flex h-[60px] md:h-[72px] items-center justify-between px-3 md:px-6 rounded-lg border border-base-border shadow-soft;
  background: rgba(246,243,234,0.85);
  -webkit-backdrop-filter: saturate(180%) blur(10px);
  backdrop-filter: saturate(180%) blur(10px);
}
.brand { @apply font-heading text-[18px] md:text-[20px] font-extrabold tracking-[-0.02em] text-brand-ink rounded-pill px-2 focus:outline-none focus-visible:ring-4 focus-visible:ring-[rgba(204,255,51,0.4)] focus-visible:ring-offset-2 focus-visible:ring-offset-base-cream; }
.menu.desktop { @apply hidden md:flex items-center gap-8 text-[15px]; }
/* remove mobile-secondary row to avoid overflow */
.menu.mobile-secondary { display: none; }
.menu.desktop a { @apply text-base-text hover:text-brand-ink rounded-pill px-2 py-1 focus:outline-none focus-visible:ring-4 focus-visible:ring-[rgba(204,255,51,0.4)] focus-visible:ring-offset-2 focus-visible:ring-offset-base-cream; }
.actions { @apply flex items-center gap-2 md:gap-3; }

/* Make the nav CTA smaller on mobile if shown */
.nav .btn-primary { @apply py-[8px] px-[14px] md:py-[10px] md:px-[18px]; }
.nav .btn-primary { display: none; }
@media (min-width: 768px) { /* md breakpoint */
  .nav .btn-primary { display: inline-flex; }
}
.btn-primary { @apply inline-flex items-center gap-2 py-[10px] px-[18px] rounded-pill bg-brand-lime text-brand-ink font-semibold shadow-soft hover:bg-brand-lime-700 focus:outline-none focus-visible:ring-4 focus-visible:ring-[rgba(204,255,51,0.4)] focus-visible:ring-offset-2 focus-visible:ring-offset-base-cream; will-change: transform; }
.btn-outline { @apply inline-flex items-center gap-2 py-[10px] px-[18px] rounded-pill border-[1.5px] border-base-border bg-transparent text-base-text hover:bg-base-overlay focus:outline-none focus-visible:ring-4 focus-visible:ring-[rgba(204,255,51,0.4)] focus-visible:ring-offset-2 focus-visible:ring-offset-base-cream; will-change: transform; }
.btn-invert { @apply inline-flex items-center gap-2 py-[10px] px-[18px] rounded-pill bg-brand-ink text-brand-lime font-semibold shadow-soft hover:opacity-90 focus:outline-none focus-visible:ring-4 focus-visible:ring-[rgba(204,255,51,0.4)] focus-visible:ring-offset-2 focus-visible:ring-offset-brand-lime; will-change: transform; }
.btn-outline.small { @apply py-[8px] px-[14px]; }
  
/* Hamburger */
.hamburger { @apply md:hidden relative w-9 h-9 rounded-pill border border-base-border bg-transparent flex items-center justify-center; }
.hamburger span { @apply block absolute w-5 h-[2px] bg-base-text transition; }
.hamburger span:nth-child(1) { top: 10px; }
.hamburger span:nth-child(2) { top: 16px; }
.hamburger span:nth-child(3) { top: 22px; }
.hamburger[aria-expanded="true"] span:nth-child(1) { transform: translateY(6px) rotate(45deg); }
.hamburger[aria-expanded="true"] span:nth-child(2) { opacity: 0; }
.hamburger[aria-expanded="true"] span:nth-child(3) { transform: translateY(-6px) rotate(-45deg); }

/* Mobile menu */
.mobile-menu[hidden] { display: none; }
.mobile-panel {
  @apply fixed inset-0 p-4 md:hidden;
  background: transparent;
}
.mobile-inner {
  @apply ml-auto w-full max-w-sm rounded-lg border border-base-border shadow-soft;
  background: rgba(246,243,234,0.85);
  -webkit-backdrop-filter: saturate(180%) blur(10px);
  backdrop-filter: saturate(180%) blur(10px);
}
.mobile-header { @apply flex items-center justify-between px-4 py-3 border-b border-base-border; }
.icon-btn { @apply inline-flex items-center justify-center w-9 h-9 rounded-pill border border-base-border bg-white hover:bg-base-overlay; }
.mobile-list { @apply p-4 space-y-2; }
.mobile-list a { @apply block px-3 py-2 rounded-pill text-base-text hover:text-brand-ink hover:bg-base-overlay; }
.mobile-cta { @apply p-4; }

/* Sections */
.section { @apply py-14 md:py-20; }
.grid-2 { @apply grid grid-cols-1 lg:grid-cols-2 gap-8 items-center; }
.grid-3 { @apply grid grid-cols-1 md:grid-cols-3 gap-5; }
.hero .display { @apply font-heading text-brand-ink font-extrabold tracking-[-0.03em] leading-[1.02] text-[50px] sm:text-[60px] md:text-[72px]; }
.hero .subtitle { @apply mt-5 text-[18px] sm:text-[20px] leading-relaxed text-base-muted max-w-[66ch]; }
.hero .cta-row { @apply mt-7 flex flex-wrap gap-3; }
.hero-media { @apply h-[320px] sm:h-[360px] md:h-[420px] w-full rounded-xl border border-base-border shadow-card; background: linear-gradient(180deg,#FFFFFF 0%,#F6F3EA 100%); object-fit: cover; }

/* Seamless PNG hero device image */
.hero-device-wrap { position: relative; display: inline-block; }
.hero-device { display:block; border:0 !important; border-radius:0 !important; outline: none; background: transparent; filter: drop-shadow(0 16px 24px rgba(20,20,20,0.10)) drop-shadow(0 4px 12px rgba(20,20,20,0.08)); }
.hero-device, .hero-laptop { transition: opacity 600ms ease; }
.hero-device-wrap::after {
  content: '';
  position: absolute;
  left: 50%;
  transform: translateX(-50%);
  bottom: -10px;
  width: min(70%, 420px);
  height: 18px;
  border-radius: 50%;
  background: radial-gradient(ellipse at center, rgba(0,0,0,0.18) 0%, rgba(0,0,0,0.14) 30%, rgba(0,0,0,0.08) 55%, rgba(0,0,0,0.00) 70%);
  filter: blur(6px);
  pointer-events: none;
}

/* Hero media grid */
.hero-media-grid { width: 100%; max-width: 1160px; }
.laptop-image { position: relative; width: 100%; max-width: 720px; display: grid; justify-items: center; }
@media (min-width: 1024px) { .laptop-image { justify-self: center; } }
@media (max-width: 1023.98px) { .laptop-image { max-width: 560px; } }
@media (max-width: 767.98px) { .laptop-image { max-width: 420px; } }
.hero-laptop { display: block; border: 0; border-radius: 0; background: transparent; filter: drop-shadow(0 16px 24px rgba(20,20,20,0.10)) drop-shadow(0 4px 12px rgba(20,20,20,0.08)); }

/* Subtle float animation reused */
@media (prefers-reduced-motion: no-preference) {
  .hero-float { animation: heroFloat 6s ease-in-out infinite; }
}
@keyframes heroFloat {
  0%, 100% { transform: translateY(0); }
  50% { transform: translateY(-6px); }
}

/* Trustbar */
.trustbar .logos { @apply grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-8 sm:gap-10 md:gap-12 items-center; }
.trustbar .logo { 
  @apply flex items-center justify-center p-4 rounded-lg transition-all duration-300 ease-out;
  will-change: transform;
}
.trustbar .logo img { 
  background: transparent; 
  mix-blend-mode: multiply;
  transition: all 300ms ease-out;
  filter: grayscale(0) opacity(1);
}

/* Enhanced client logo hover effects */
@media (hover: hover) and (pointer: fine) {
  .trustbar .logo:hover {
    transform: translateY(-4px) scale(1.05);
    background: rgba(204,255,51,0.08);
    box-shadow: 0 8px 24px rgba(0,0,0,0.12), 0 2px 8px rgba(204,255,51,0.2);
  }
  .trustbar .logo:hover img {
    filter: grayscale(0) opacity(1);
    transform: scale(1.1);
  }
}

@media (prefers-reduced-motion: reduce) {
  .trustbar .logo, .trustbar .logo img {
    transition: none !important;
  }
  .trustbar .logo:hover {
    transform: none !important;
  }
}

/* Clients section header */
.clients-section { padding-block: clamp(2rem, 4vw, 4rem); }
.clients-heading { @apply font-heading text-brand-ink font-extrabold; font-weight: 900; letter-spacing: 0.01em; font-size: clamp(28px, 4.2vw, 38px); }
.clients-underline { width: 56px; height: 4px; border-radius: 999px; background-color: var(--color-brand-lime, #CCFF33); margin: 8px auto 0 auto; }
.clients-subtext { @apply text-base-text/80; max-width: 620px; margin-left: auto; margin-right: auto; line-height: 1.4; }

/* Why section enhancements */
.why-section .why-subtext { @apply text-base-text/80; max-width: 740px; margin-left: auto; margin-right: auto; line-height: 1.45; }
.benefits-grid .benefit-card { position: relative; overflow: hidden; }
.benefits-grid .benefit-title { @apply flex items-center gap-3 mb-1; }
.benefits-grid .benefit-icon { 
  width: 10px; 
  height: 10px; 
  border-radius: 999px; 
  background: var(--color-brand-lime); 
  box-shadow: 0 0 0 6px rgba(204,255,51,0.18);
  transition: all 300ms ease;
}

/* Enhanced benefit card hover effects */
@media (hover: hover) and (pointer: fine) {
  .benefits-grid .benefit-card:hover .benefit-icon {
    background: var(--color-brand-lime);
    box-shadow: 0 0 0 8px rgba(204,255,51,0.25), 0 0 20px rgba(204,255,51,0.4);
    transform: scale(1.2);
  }
  
  .benefits-grid .benefit-card:hover .benefit-title h4 {
    color: var(--color-brand-ink);
    transform: translateX(4px);
  }
}

.benefits-grid .benefit-card::after { 
  content: ''; 
  position: absolute; 
  inset: auto 16px 0 16px; 
  height: 4px; 
  border-radius: 999px; 
  background: linear-gradient(90deg, rgba(204,255,51,0.6), rgba(204,255,51,0)); 
  opacity: 0; 
  transition: opacity 300ms ease; 
}
.benefits-grid .benefit-card:hover::after { opacity: 1; }

/* Process connectors on desktop */
@media (min-width: 768px) {
  .process-grid { position: relative; }
  .process-grid .process { position: relative; }
  .process-grid .process:not(:last-child)::after {
    content: '';
    position: absolute;
    top: 28px;
    right: -12px;
    width: 24px;
    height: 2px;
    background: linear-gradient(90deg, rgba(0,0,0,0.08), rgba(0,0,0,0));
  }
}

/* Projects grid */
.projects-grid { @apply grid grid-cols-1 md:grid-cols-2 gap-6; }
.project-card .project-header { @apply mb-4 flex items-center justify-center; }
.project-logo { @apply h-12 md:h-14 w-auto object-contain; }
.project-blurb { @apply text-base-text text-[15px] md:text-[16px]; }
.project-chips { @apply mt-3 flex flex-wrap gap-2; }
.project-chips li { @apply inline-flex items-center rounded-pill border border-base-border bg-white px-3 py-1 text-[13px]; }
.project-card.highlight { outline: 3px solid rgba(204,255,51,0.6); outline-offset: 2px; border-color: rgba(204,255,51,0.6); }

/* Pricing */
.pricing-grid { @apply grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6; }
/* Generic card pattern for pricing */
.card { @apply rounded-xl border border-base-border bg-white shadow-card p-6 relative flex flex-col; will-change: transform; transition: transform 300ms cubic-bezier(0.34, 1.56, 0.64, 1), box-shadow 300ms ease, border-color 300ms ease; }
.card:hover { transform: translateY(-4px); box-shadow: 0 20px 40px rgba(20,20,20,0.08), 0 8px 16px rgba(20,20,20,0.06); border-color: rgba(204,255,51,0.3); }
@media (prefers-reduced-motion: reduce) { .card { transition: none; will-change: auto; } .card:hover { transform: none; } }
.card--featured { @apply border-brand-lime bg-gradient-to-b from-white to-brand-lime/5; transform: scale(1.02); }
.card--featured:hover { transform: scale(1.02) translateY(-4px); }
.card--primary { @apply border-brand-ink/20; box-shadow: 0 20px 40px rgba(20,20,20,0.08), 0 8px 16px rgba(20,20,20,0.06); }
.card__badge { @apply absolute -top-3 left-1/2 transform -translate-x-1/2 bg-brand-lime text-brand-ink text-[12px] font-bold px-3 py-1 rounded-pill; }
.card__body { @apply mb-6; flex: 1; }
.card__cta { @apply mt-auto; }
.pricing-title { @apply text-[20px] font-bold text-brand-ink mb-3; }
.pricing-price { @apply mb-6; }
.price-main { @apply block text-[24px] font-extrabold text-brand-ink; }
.price-note { @apply block text-[14px] text-base-text/70 mt-1; }
.pricing-features { @apply space-y-3 mb-0; }
.pricing-features li { @apply flex items-start gap-2 text-[14px] text-base-text; }
.pricing-features li::before { content: "✓"; @apply text-brand-lime font-bold flex-shrink-0 mt-0.5; }
.pricing-cta { @apply w-full justify-center; }
.pricing-notes { @apply mt-8 text-center space-y-2; }

/* Enhanced Testimonials with Cycling Animation */
.testimonials-wrap { 
  overflow: hidden; 
  position: relative;
  padding: 1.5rem 0;
  margin: 0 -1rem;
  /* Performance optimizations */
  contain: layout style paint; /* CSS containment for better performance */
  transform: translateZ(0); /* Force hardware acceleration */
}

/* Mobile performance optimizations */
@media (max-width: 768px) {
  .testimonials-wrap {
    padding: 1rem 0; /* Reduce padding on mobile */
  }
}

.testimonials-track { 
  display: flex; 
  gap: 24px;
  padding: 0 2rem;
}

.testimonial-card { 
  @apply min-w-[300px] md:min-w-[380px] rounded-2xl border border-base-border/50 bg-gradient-to-br from-white to-base-cream/30 shadow-card p-6 md:p-7;
  position: relative;
  backdrop-filter: blur(8px);
  transition: all 300ms ease-out;
  /* Mobile performance optimizations */
  transform: translateZ(0); /* Force hardware acceleration */
  will-change: transform; /* Optimize for transforms */
}

/* Mobile-specific optimizations */
@media (max-width: 768px) {
  .testimonial-card {
    @apply min-w-[260px] p-4; /* Much slimmer cards on mobile */
    backdrop-filter: none; /* Remove blur on mobile for performance */
    background: linear-gradient(135deg, #ffffff, rgba(204,255,51,0.05)); /* Simpler gradient */
  }
  
  .testimonial-card::before {
    font-size: 2.5rem; /* Smaller quote mark on mobile */
    top: 0.5rem;
    right: 1rem;
  }
  
  .testimonial-header {
    @apply gap-3 mb-4; /* Tighter spacing on mobile */
  }
  
  .testimonial-quote {
    @apply text-[16px] leading-relaxed; /* Smaller text on mobile */
  }
  
  .testimonial-logo-img {
    @apply h-10; /* Smaller logos on mobile */
  }
}

/* Large decorative quote mark */
.testimonial-card::before {
  content: '"';
  position: absolute;
  top: 1rem;
  right: 1.5rem;
  font-size: 4rem;
  font-family: Georgia, serif;
  color: rgba(204,255,51,0.15);
  line-height: 1;
  pointer-events: none;
  transition: all 200ms ease-out;
}

.testimonial-header { 
  @apply flex items-center gap-4 mb-6;
  position: relative;
  z-index: 2;
}

.testimonial-logo-img { 
  @apply h-12 md:h-14 w-auto object-contain;
  filter: drop-shadow(0 2px 4px rgba(0,0,0,0.1));
  transition: transform 200ms ease-out;
}

.testimonial-logo-fallback { 
  @apply w-12 h-12 rounded-xl border border-base-border bg-gradient-to-br from-base-cream to-white flex items-center justify-center text-[14px] font-bold text-brand-ink shadow-sm;
  transition: transform 200ms ease-out;
}

.testimonial-meta { 
  @apply flex flex-col gap-1;
}

.testimonial-author { 
  @apply text-[17px] font-bold text-brand-ink;
  letter-spacing: -0.01em;
}

.testimonial-stars { 
  color: #F59E0B; 
  @apply flex items-center gap-1 mt-1;
  filter: drop-shadow(0 1px 2px rgba(245,158,11,0.3));
}

.testimonial-stars svg {
  transition: transform 150ms ease-out;
  width: 16px;
  height: 16px;
}

.testimonial-quote { 
  @apply text-[18px] md:text-[20px] text-base-text leading-relaxed font-medium;
  position: relative;
  z-index: 2;
  font-style: italic;
  line-height: 1.6;
  margin-top: 0.5rem;
}
/* Mobile-optimized testimonials animation */
@media (prefers-reduced-motion: no-preference) {
  .testimonials-animate .testimonials-track {
    animation: testimonialsScroll 16s linear infinite reverse; /* Faster for better mobile experience */
    will-change: transform; /* Optimize for animations */
  }
  
  /* Much faster on mobile for better performance and engagement */
  @media (max-width: 768px) {
    .testimonials-animate .testimonials-track {
      animation: testimonialsScroll 8s linear infinite reverse;
    }
  }
}

@keyframes testimonialsScroll {
  0% { transform: translateX(0); }
  100% { transform: translateX(-50%); }
}

/* Cards */
.card { @apply rounded-xl border border-base-border bg-base-card shadow-card p-6; }
.card h3 { @apply text-[21px] md:text-[28px] font-bold text-brand-ink; }
.card p { @apply mt-2 text-[15px] md:text-[16px] leading-normal text-base-muted; overflow-wrap: anywhere; word-break: break-word; hyphens: auto; }
.chips { @apply mt-3 flex flex-wrap gap-2; }
.chip { @apply inline-flex items-center rounded-pill border border-base-border bg-white px-3 py-2 text-[14px]; }

/* Card accent bar */
.card { position: relative; }
.card .accent { display: none; }

/* Enhanced hover interactions for cards (desktop only) */
@media (hover: hover) and (pointer: fine) {
  .card, .process, .pricing-card, .testimonial-card, .result-card, .benefit-card {
    transition: all 400ms cubic-bezier(0.23, 1, 0.32, 1);
    will-change: transform;
    position: relative;
    overflow: hidden;
  }
  
  /* Subtle glow effect before hover */
  .card::before, .process::before, .pricing-card::before, .testimonial-card::before, .result-card::before, .benefit-card::before {
    content: '';
    position: absolute;
    inset: 0;
    border-radius: inherit;
    padding: 2px;
    background: linear-gradient(135deg, rgba(204,255,51,0.6), rgba(204,255,51,0.1), rgba(204,255,51,0.4));
    mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
    mask-composite: xor;
    -webkit-mask-composite: xor;
    opacity: 0;
    transition: opacity 400ms ease;
  }
  
  /* Different hover effects for different card types */
  .card:hover, .benefit-card:hover {
    transform: translateY(-12px) scale(1.03) rotate(1deg);
    box-shadow: 0 20px 40px rgba(0,0,0,0.15), 0 8px 16px rgba(204,255,51,0.2);
    border-color: rgba(204,255,51,0.4);
  }
  
  .process:hover {
    transform: translateY(-8px) scale(1.05);
    box-shadow: 0 16px 32px rgba(0,0,0,0.12), 0 4px 12px rgba(204,255,51,0.3);
    border-color: rgba(204,255,51,0.5);
    background: linear-gradient(135deg, #ffffff, rgba(204,255,51,0.05));
  }
  
  .pricing-card:hover {
    transform: translateY(-16px) scale(1.04) rotate(-1deg);
    box-shadow: 0 24px 48px rgba(0,0,0,0.18), 0 8px 16px rgba(204,255,51,0.25);
    border-color: rgba(204,255,51,0.6);
    background: linear-gradient(135deg, #ffffff, rgba(204,255,51,0.08));
  }
  
  .testimonial-card:hover, .result-card:hover {
    transform: translateY(-8px) scale(1.03);
    box-shadow: 0 16px 32px rgba(0,0,0,0.12), 0 6px 12px rgba(204,255,51,0.2);
    border-color: rgba(204,255,51,0.4);
    background: linear-gradient(135deg, #ffffff, rgba(204,255,51,0.08));
  }

  .testimonial-card:hover .testimonial-logo-img,
  .testimonial-card:hover .testimonial-logo-fallback {
    transform: scale(1.1);
  }

  .testimonial-card:hover .testimonial-stars svg {
    transform: scale(1.1) rotate(5deg);
  }

  .testimonial-card:hover::before {
    color: rgba(204,255,51,0.25);
    transform: scale(1.1);
  }
  
  /* Reduce hover effects on mobile for performance */
  @media (max-width: 768px) {
    .testimonial-card:hover {
      transform: translateY(-4px); /* Less intensive transform on mobile */
      box-shadow: 0 8px 16px rgba(0,0,0,0.08);
    }
    
    .testimonial-card:hover .testimonial-logo-img,
    .testimonial-card:hover .testimonial-logo-fallback {
      transform: none; /* Disable logo scaling on mobile */
    }
    
    .testimonial-card:hover .testimonial-stars svg {
      transform: none; /* Disable star animations on mobile */
    }
    
    .testimonial-card:hover::before {
      transform: none; /* Disable quote mark scaling on mobile */
    }
  }
  
  /* Activate glow on hover */
  .card:hover::before, .process:hover::before, .pricing-card:hover::before, 
  .testimonial-card:hover::before, .result-card:hover::before, .benefit-card:hover::before {
    opacity: 1;
  }
  
  /* Enhanced content animations on hover */
  .card:hover h3, .card:hover h4, .process:hover h4, .pricing-card:hover h3 {
    color: var(--color-brand-ink);
    transform: translateY(-2px);
    transition: all 300ms ease;
  }
}

@media (prefers-reduced-motion: reduce) {
  .card, .process, .pricing-card, .testimonial-card, .result-card, .contact-card { transition: none; }
}

/* Contact card - NO hover effects to prevent weird animations */
.contact-card {
  transition: none !important;
  transform: none !important;
  will-change: auto !important;
}
.contact-card:hover {
  transform: none !important;
  scale: none !important;
  box-shadow: 0 8px 24px rgba(0,0,0,0.08) !important;
  border-color: rgba(204,255,51,0.2) !important;
  filter: none !important;
}

/* About card kicker spacing on small screens */
.hero + #um-okkur .chip { @apply mb-2; }

/* Process */
.process { @apply rounded-lg border border-base-border bg-white shadow-soft p-6; }
.process h4 { @apply text-[21px] md:text-[22px] font-semibold text-brand-ink; }
.process p { @apply mt-2 text-base-muted; }

/* Process with numbered badges */
.step-header { @apply flex items-center gap-3; }
.step-badge { @apply inline-flex items-center justify-center w-8 h-8 rounded-full bg-brand-lime text-brand-ink font-bold; }

/* Pricing */
.pricing-card { @apply rounded-xl border border-base-border shadow-card bg-white p-6 md:p-8 relative; }
.pricing-card .badge { @apply absolute right-4 top-4 inline-flex items-center rounded-pill bg-brand-lime text-brand-ink text-[12px] font-semibold px-3 py-1; }
.pricing-card h3 { @apply text-[19px] md:text-[22px] font-semibold text-brand-ink; }
.pricing-card .features { @apply mt-3 space-y-2 text-[15px] md:text-[16px] leading-normal text-base-text; overflow-wrap: anywhere; word-break: break-word; hyphens: auto; }
.pricing-note { @apply mt-4 text-[14px] text-base-muted; }
.maintenance { @apply mt-6 rounded-xl border border-base-border shadow-card bg-white p-6 flex flex-wrap items-center justify-between gap-4; }
.maintenance h4 { @apply text-[22px] font-semibold text-brand-ink; }
.maintenance .tags { @apply mt-2 flex flex-wrap gap-3 text-[15px] text-base-text; }
.maintenance .tags li { @apply inline-flex items-center rounded-pill border border-base-border bg-white px-3 py-2; }
.maintenance .price-small { @apply text-brand-ink font-extrabold text-[28px] tracking-[-0.02em]; }

/* CTA banner */
.cta-banner { @apply rounded-xl bg-brand-lime text-brand-ink p-7 flex flex-col md:flex-row items-center justify-between gap-4; }
.cta-title { @apply font-heading text-[28px] md:text-[32px] font-extrabold tracking-[-0.02em]; }

/* Contact Form - Enhanced Design */
.contact-card { 
  @apply rounded-xl border border-base-border shadow-card bg-white p-8 md:p-10 relative overflow-hidden;
  /* Override any inherited card animations */
  transition: none !important;
  transform: none !important;
  will-change: auto !important;
}
.contact-card:hover {
  transform: none !important;
  scale: none !important;
  filter: none !important;
}

/* Contact header styling */
.contact-card h3 {
  @apply font-heading text-brand-ink font-extrabold text-[28px] md:text-[32px] tracking-[-0.02em] mb-2;
}

/* Contact email chips */
.contact-emails {
  @apply mb-8 flex flex-wrap gap-3;
}
.contact-emails .chip {
  @apply inline-flex items-center gap-2 rounded-pill border border-base-border bg-base-cream px-4 py-2 text-[14px] font-medium text-base-text hover:bg-brand-lime hover:text-brand-ink transition-colors duration-200;
}
.contact-emails .chip::before {
  content: '✉';
  @apply text-[12px];
}

/* Form grid and spacing */
.form-grid { 
  @apply grid grid-cols-1 md:grid-cols-2 gap-6;
}

/* Field styling */
.field { 
  @apply col-span-1 relative;
}
.field span { 
  @apply block text-[14px] font-medium text-brand-ink mb-2;
}
.field input, .field textarea, .field select { 
  @apply w-full rounded-lg border-2 border-base-border bg-white px-4 py-3 text-[16px] transition-all duration-200;
  @apply focus:outline-none focus:border-brand-lime focus:bg-base-cream/50;
  @apply placeholder:text-base-muted;
}
.field input:focus, .field textarea:focus, .field select:focus {
  box-shadow: 0 0 0 4px rgba(204,255,51,0.15);
}
.field.full { 
  @apply md:col-span-2;
}
.field textarea {
  @apply resize-none min-h-[120px];
}

/* Form actions */
.contact-card .actions { 
  @apply md:col-span-2 mt-6 flex flex-col sm:flex-row items-center gap-4;
}
.contact-card .actions .btn-primary {
  @apply w-full sm:w-auto px-8 py-4 text-[16px] font-bold;
}

/* Decorative elements */
.contact-card::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 4px;
  background: linear-gradient(90deg, var(--color-brand-lime), rgba(204,255,51,0.3));
}

/* Form validation states */
.field input:invalid:not(:placeholder-shown),
.field textarea:invalid:not(:placeholder-shown) {
  @apply border-red-300;
}
.field input:valid:not(:placeholder-shown),
.field textarea:valid:not(:placeholder-shown) {
  @apply border-green-300;
}

/* Enhanced Footer */
.footer { 
  @apply mt-16 border-t border-base-border bg-base-cream-2;
  background: linear-gradient(135deg, #EFE9DC 0%, #F6F3EA 100%);
}

.footer-content {
  @apply py-12 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 lg:gap-12;
}

.footer-section {
  @apply space-y-4;
}

/* Footer Brand */
.footer-brand {
  @apply mb-6;
}

.footer-logo {
  @apply font-heading text-brand-ink font-extrabold text-[24px] tracking-[-0.02em] mb-2;
}

.footer-tagline {
  @apply text-base-text/70 text-[14px] italic;
}

/* Company Info */
.footer-company-info {
  @apply space-y-2;
}

.company-name {
  @apply font-semibold text-brand-ink text-[15px];
}

.company-details {
  @apply text-base-text/70 text-[14px];
}

.footer-contact {
  @apply mt-3 space-y-1;
}

.footer-email {
  @apply block text-[14px] text-base-text hover:text-brand-ink hover:underline transition-colors duration-200;
}

/* Footer Sections */
.footer-section-title {
  @apply font-heading font-bold text-brand-ink text-[16px] tracking-[-0.01em] mb-3;
}

.footer-nav {
  @apply flex flex-col space-y-2;
}

.footer-nav a {
  @apply text-[14px] text-base-text hover:text-brand-ink hover:underline transition-colors duration-200;
}

.footer-services {
  @apply space-y-2 list-none;
}

.footer-services li {
  @apply text-[14px] text-base-text/80;
}

.footer-services li::before { content: none; }

/* Footer Bottom */
.footer-bottom {
  @apply border-t border-base-border pt-6 pb-8 flex flex-col sm:flex-row items-center justify-between gap-4 text-[13px] text-base-text/70;
}

.footer-copyright {
  @apply flex items-center gap-2;
}

.footer-legal a {
  @apply hover:text-brand-ink hover:underline transition-colors duration-200;
}

/* Concise Mobile Footer */
@media (max-width: 768px) {
  .footer {
    @apply mt-8;
  }
  
  .footer-content {
    @apply py-8;
  }
  
  /* Hide navigation and services sections on mobile */
  .footer-section:nth-child(2),
  .footer-section:nth-child(3) {
    @apply hidden;
  }
  
  /* Company section - compact and centered */
  .footer-section:first-child {
    @apply text-center;
  }
  
  .footer-brand {
    @apply mb-3;
  }
  
  .footer-logo {
    @apply text-[22px] mb-2;
  }
  
  .footer-tagline {
    @apply text-[14px] mb-4;
  }
  
  .footer-company-info {
    @apply space-y-1;
  }
  
  .company-name {
    @apply text-[15px] font-semibold;
  }
  
  .company-details {
    @apply text-[13px] text-base-text/60;
  }
  
  .footer-contact {
    @apply mt-3 flex flex-row gap-4 justify-center;
  }
  
  .footer-email {
    @apply text-[13px] hover:underline;
  }
  
  /* Footer bottom - minimal */
  .footer-bottom {
    @apply flex-col gap-2 pt-4 text-center border-t border-base-border/30;
  }
  
  .footer-copyright {
    @apply text-[12px] text-base-text/60;
  }
  
  .footer-legal a {
    @apply text-[12px] text-base-text/60 hover:text-brand-ink;
  }
}

/* Cookie banner */
.cookie-banner { position: fixed; inset-inline: 0; bottom: 16px; display: grid; place-items: center; z-index: 60; }
.cookie-banner[hidden] { display: none !important; }
.cookie-inner { @apply mx-4 max-w-[780px] w-[min(100%,780px)] rounded-xl border border-base-border bg-white shadow-card p-4 md:p-5 flex flex-col md:flex-row items-center justify-between gap-4; }
.cookie-text { @apply text-[14px] md:text-[15px] text-base-text; }
.cookie-actions { @apply flex items-center gap-3; }

/* Animations */
@media (prefers-reduced-motion: reduce) {
  .reveal, .reveal-fade { opacity: 1 !important; transform: none !important; transition: none !important; }
  .word { display: inline-block !important; }
}
.reveal { opacity: 0; transform: translateY(16px); transition: opacity 700ms ease, transform 700ms ease; }
.reveal.in-view { opacity: 1; transform: translateY(0); }
.reveal-fade { opacity: 0; transition: opacity 900ms ease; }
.reveal-fade.in-view { opacity: 1; }

/* Text animation styles */
.word { 
  display: inline-block; 
  transform-origin: bottom center;
  transform-style: preserve-3d;
}

/* Enhanced card animations - initial hidden state for GSAP */
.benefits-grid .benefit-card,
.process-grid .process,
.pricing-grid .pricing-card,
.grid-3 .card {
  opacity: 0;
  transform: translateY(50px) scale(0.9);
}

/* Show cards when GSAP is not available or reduced motion */
@media (prefers-reduced-motion: reduce) {
  .benefits-grid .benefit-card,
  .process-grid .process,
  .pricing-grid .pricing-card,
  .grid-3 .card {
    opacity: 1 !important;
    transform: none !important;
  }
}

/* Fallback: ensure critical sections are always visible */
section[aria-labelledby="why-heading"] .reveal,
#nidurstodur .reveal { opacity: 1 !important; transform: none !important; }
/* Services fallback */
#thjonusta .reveal { opacity: 1 !important; transform: none !important; }
/* Pricing fallback */
#verd .reveal { opacity: 1 !important; transform: none !important; }
/* Projects fallback */
#verkefni-detalur .reveal { opacity: 1 !important; transform: none !important; }

/* About stats: ensure text wraps and sizes down slightly to avoid overflow */
.about-stats .about-stat-card { @apply rounded-xl border border-base-border bg-white shadow-soft p-4; }
.about-stats .about-stat-text { @apply text-brand-ink font-bold text-[17px] sm:text-[18px] leading-snug break-words; }
.about-stats .about-stat-text br { display: none; }

/* Pricing accent */
.pricing-card { position: relative; }
.pricing-card .accent { display: none; }

/* Premium FAQ Styling */
.faq-section .faq-subtext { 
  @apply text-base-text/80; 
  max-width: 580px; 
  margin-left: auto; 
  margin-right: auto; 
  line-height: 1.45; 
}

.accordion-item { 
  @apply rounded-xl border border-base-border bg-white shadow-soft relative overflow-hidden;
  transition: transform 250ms ease-out, 
              box-shadow 250ms ease-out, 
              border-color 250ms ease-out,
              background 250ms ease-out;
  will-change: transform;
  position: relative;
}

/* Gradient border effect */
.accordion-item::before {
  content: '';
  position: absolute;
  inset: 0;
  border-radius: inherit;
  padding: 2px;
  background: linear-gradient(135deg, rgba(204,255,51,0.8), rgba(204,255,51,0.2), rgba(204,255,51,0.6));
  mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
  mask-composite: xor;
  -webkit-mask-composite: xor;
  opacity: 0;
  transition: opacity 200ms ease-out;
  will-change: opacity;
}

/* Left accent bar */
.accordion-item::after {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  width: 4px;
  height: 100%;
  background: linear-gradient(180deg, var(--color-brand-lime), rgba(204,255,51,0.6));
  transform: scaleY(0);
  transform-origin: top;
  transition: transform 200ms ease-out;
  will-change: transform;
}

/* Hover effects */
.accordion-item:hover {
  transform: translateY(-4px) scale(1.01);
  box-shadow: 0 16px 40px rgba(0,0,0,0.12), 0 6px 16px rgba(204,255,51,0.2);
  border-color: rgba(204,255,51,0.4);
}

.accordion-item:hover::before {
  opacity: 1;
}

.accordion-item:hover::after {
  transform: scaleY(1);
}

/* Active/expanded state */
.accordion-item[aria-expanded="true"] {
  background: linear-gradient(135deg, #ffffff, rgba(204,255,51,0.04), rgba(204,255,51,0.02));
  border-color: rgba(204,255,51,0.5);
  box-shadow: 0 12px 32px rgba(0,0,0,0.1), 0 4px 12px rgba(204,255,51,0.25);
  transform: translateY(-2px) scale(1.005);
}

.accordion-item[aria-expanded="true"]::before {
  opacity: 1;
}

.accordion-item[aria-expanded="true"]::after {
  transform: scaleY(1);
  background: linear-gradient(180deg, var(--color-brand-lime), rgba(204,255,51,0.8));
}

.accordion-button { 
  @apply w-full text-left px-6 py-5 md:px-8 md:py-6 flex items-center justify-between gap-4;
  transition: all 300ms ease;
  border-radius: inherit;
  position: relative;
  z-index: 1;
}

.accordion-button:hover {
  background: linear-gradient(90deg, rgba(204,255,51,0.08), rgba(204,255,51,0.03));
}

.accordion-button:active {
  transform: scale(0.98);
}

.accordion-q { 
  @apply font-bold text-brand-ink text-[16px] md:text-[18px];
  transition: all 300ms ease;
  letter-spacing: -0.01em;
}

.accordion-item:hover .accordion-q {
  color: var(--color-brand-ink);
  transform: translateX(2px);
}

.accordion-item[aria-expanded="true"] .accordion-q {
  color: var(--color-brand-ink);
  transform: translateX(3px);
}

.accordion-a { 
  @apply px-6 pb-5 md:px-8 md:pb-6 text-base-text text-[15px] md:text-[16px] leading-relaxed;
  overflow: hidden;
  position: relative;
  /* Remove transitions to let GSAP handle the animation smoothly */
}

.accordion-a.hidden {
  display: none;
}

/* Enhanced answer styling */
.accordion-a::before {
  content: '';
  position: absolute;
  top: 0;
  left: 32px;
  right: 32px;
  height: 1px;
  background: linear-gradient(90deg, rgba(204,255,51,0.3), transparent);
  opacity: 0;
  transition: opacity 300ms ease;
}

.accordion-item[aria-expanded="true"] .accordion-a::before {
  opacity: 1;
}

.accordion-icon { 
  @apply inline-flex items-center justify-center w-11 h-11 rounded-full bg-white border-2 border-base-border flex-shrink-0;
  transition: transform 200ms ease-out,
              background-color 200ms ease-out,
              border-color 200ms ease-out,
              box-shadow 200ms ease-out;
  box-shadow: 0 2px 8px rgba(0,0,0,0.08);
  position: relative;
  will-change: transform;
}

.accordion-icon::before {
  content: '';
  position: absolute;
  inset: -2px;
  border-radius: inherit;
  background: linear-gradient(135deg, rgba(204,255,51,0.6), rgba(204,255,51,0.2));
  opacity: 0;
  transition: opacity 200ms ease-out;
  z-index: -1;
  will-change: opacity;
}

.accordion-icon svg {
  transition: transform 200ms ease-out;
  stroke-width: 2.5;
  will-change: transform;
}

.accordion-item:hover .accordion-icon {
  transform: scale(1.1);
  border-color: rgba(204,255,51,0.6);
  box-shadow: 0 4px 16px rgba(0,0,0,0.12), 0 2px 8px rgba(204,255,51,0.2);
}

.accordion-item:hover .accordion-icon::before {
  opacity: 1;
}

.accordion-item[aria-expanded="true"] .accordion-icon {
  background: var(--color-brand-lime);
  border-color: var(--color-brand-lime);
  transform: rotate(45deg) scale(1.05);
  box-shadow: 0 6px 20px rgba(204,255,51,0.4), 0 2px 8px rgba(0,0,0,0.1);
}

.accordion-item[aria-expanded="true"] .accordion-icon svg {
  transform: rotate(-45deg);
  stroke: var(--color-brand-ink);
}

.accordion-item[aria-expanded="true"]:hover .accordion-icon {
  transform: rotate(45deg) scale(1.15);
}

/* FAQ animations respect reduced motion */
@media (prefers-reduced-motion: reduce) {
  .accordion-item, .accordion-button, .accordion-q, .accordion-a, .accordion-icon, .accordion-icon svg {
    transition: none !important;
  }
  .accordion-item:hover {
    transform: none !important;
  }
}

/* Results */
.result-card { @apply rounded-xl border border-base-border bg-white shadow-soft p-6 text-center; }
.result-card .result-value .unit { display:block; font-size: 0.64em; font-weight: 700; margin-top: 6px; }
.result-value { @apply font-heading text-brand-ink font-extrabold tracking-[-0.02em] text-[28px] md:text-[36px]; white-space: nowrap; line-height: 1.1; }
.result-caption { @apply mt-1 text-base-muted; }



